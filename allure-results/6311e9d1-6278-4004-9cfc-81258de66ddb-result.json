{"uuid":"6311e9d1-6278-4004-9cfc-81258de66ddb","historyId":"8ce31a13b03f06375d410f57b544825b","fullName":"com.testCase.LoginCase2.testLogin","labels":[{"name":"package","value":"com.testCase.LoginCase2"},{"name":"testClass","value":"com.testCase.LoginCase2"},{"name":"testMethod","value":"testLogin"},{"name":"parentSuite","value":"线上环境-自动化测试框架-mall项目-Demo"},{"name":"suite","value":"登录"},{"name":"subSuite","value":"com.testCase.LoginCase2"},{"name":"host","value":"Athena"},{"name":"thread","value":"4472@Athena.main(1)"},{"name":"framework","value":"testng"},{"name":"language","value":"java"},{"name":"epic","value":"用户模块"},{"name":"feature","value":"登录功能"}],"links":[],"name":"登录接口测试（数据驱动）","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[{"name":"【用例信息】用例ID：1, URL：\n http://129.28.122.208:8089/admin/login, 请求参数：{\"username\":\"test\",\"password\":\"123456\"}, 请求方式：post","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"caseId","value":"1"},{"name":"url","value":"\n http://129.28.122.208:8089/admin/login"},{"name":"params","value":"{\"username\":\"test\",\"password\":\"123456\"}"},{"name":"type","value":"post"}],"start":1742786635906,"stop":1742786635916},{"name":"【数据库查询】请求前 SQL 查询：SELECT COUNT(*) \nFROM ums_admin_login_log l\nJOIN ums_admin a ON l.admin_id = a.id\nWHERE a.username = 'test';\n","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"sql","value":"SELECT COUNT(*) \nFROM ums_admin_login_log l\nJOIN ums_admin a ON l.admin_id = a.id\nWHERE a.username = 'test';\n"}],"start":1742786635945,"stop":1742786637270},{"name":"【发起请求】地址：\n http://129.28.122.208:8089/admin/login, 参数：{\"username\":\"test\",\"password\":\"123456\"}, 方法：post","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"headers","value":"{content-type=application/json}"},{"name":"url","value":"\n http://129.28.122.208:8089/admin/login"},{"name":"params","value":"{\"username\":\"test\",\"password\":\"123456\"}"},{"name":"type","value":"post"}],"start":1742786637271,"stop":1742786644461},{"name":"【响应断言】开始断言接口返回结果","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"caseInfo","value":"CaseInfo{caseId=1, caseDesc='登录成功', url='\n http://129.28.122.208:8089/admin/login', contentType='json', type='post', params='{\"username\":\"test\",\"password\":\"123456\"}', expectedResult='{\"code\": 200,\"message\": \"操作成功\"}', sql='SELECT COUNT(*) \nFROM ums_admin_login_log l\nJOIN ums_admin a ON l.admin_id = a.id\nWHERE a.username = 'test';\n'}"},{"name":"responseResult","value":"{\"code\":200,\"message\":\"操作成功\",\"data\":{\"tokenHead\":\"Bearer\",\"tokenHeader\":\"Authorization\",\"token\":\"eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyX25hbWUiOiJ0ZXN0IiwiY3JlYXRlZCI6MTc0Mjc4NjY0MzUzMiwiZXhwIjoxNzQyODczMDQzfQ.ABKQUiBCvUdd0hL9UDVXZjA_ed6Mx3twcPzCvrMjW6jWenBSUKx2sJ3sAFnJ5pI7rfiVZZHdDA1U0sCLiXF0Kw\"}}"}],"start":1742786644525,"stop":1742786645011},{"name":"【数据库查询】请求后 SQL 查询：SELECT COUNT(*) \nFROM ums_admin_login_log l\nJOIN ums_admin a ON l.admin_id = a.id\nWHERE a.username = 'test';\n","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"sql","value":"SELECT COUNT(*) \nFROM ums_admin_login_log l\nJOIN ums_admin a ON l.admin_id = a.id\nWHERE a.username = 'test';\n"}],"start":1742786645012,"stop":1742786645037},{"name":"【数据库断言】前后记录数比较","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"before","value":"69"},{"name":"after","value":"70"}],"start":1742786645037,"stop":1742786645038},{"name":"【结果处理】写入用例执行结果：true","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"caseInfo","value":"CaseInfo{caseId=1, caseDesc='登录成功', url='\n http://129.28.122.208:8089/admin/login', contentType='json', type='post', params='{\"username\":\"test\",\"password\":\"123456\"}', expectedResult='{\"code\": 200,\"message\": \"操作成功\"}', sql='SELECT COUNT(*) \nFROM ums_admin_login_log l\nJOIN ums_admin a ON l.admin_id = a.id\nWHERE a.username = 'test';\n'}"},{"name":"assertResponse","value":"true"},{"name":"assertSQL","value":"true"}],"start":1742786645038,"stop":1742786645039}],"attachments":[],"parameters":[{"name":"arg0","value":"CaseInfo{caseId=1, caseDesc='登录成功', url='\n ${ip}/admin/login', contentType='json', type='post', params='{\"username\":\"${username}\",\"password\":\"${password}\"}', expectedResult='{\"code\": 200,\"message\": \"操作成功\"}', sql='SELECT COUNT(*) \nFROM ums_admin_login_log l\nJOIN ums_admin a ON l.admin_id = a.id\nWHERE a.username = '${username}';\n'}"}],"start":1742786635694,"stop":1742786645523}